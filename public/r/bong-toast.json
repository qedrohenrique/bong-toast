{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "bong-toast",
  "title": "Bong Toast",
  "description": "Animated gooey toast notifications with spring animations.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "registry/bong-toast/bong-toast.tsx",
      "content": "\"use client\";\n\nimport { useEffect, useCallback, useState } from \"react\";\nimport { AnimatePresence, motion } from \"motion/react\";\nimport {\n  useBongToast,\n  type ToastData,\n  type ToastPosition,\n  type ToastSize,\n  type ToastStyle,\n  type ToastSpring,\n} from \"./use-bong-toast\";\nimport \"./bong-toast.css\";\n\nconst icons: Record<string, React.ReactNode> = {\n  success: (\n    <svg viewBox=\"0 0 18 18\" fill=\"none\" className=\"bong-toast-icon\">\n      <circle cx=\"9\" cy=\"9\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M5.5 9.5L7.5 11.5L12.5 6.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n    </svg>\n  ),\n  error: (\n    <svg viewBox=\"0 0 18 18\" fill=\"none\" className=\"bong-toast-icon\">\n      <circle cx=\"9\" cy=\"9\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M6.5 6.5L11.5 11.5M11.5 6.5L6.5 11.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n  warning: (\n    <svg viewBox=\"0 0 18 18\" fill=\"none\" className=\"bong-toast-icon\">\n      <path d=\"M9 2L16.5 15.5H1.5L9 2Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinejoin=\"round\" />\n      <path d=\"M9 7V10.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n      <circle cx=\"9\" cy=\"13\" r=\"0.75\" fill=\"currentColor\" />\n    </svg>\n  ),\n  info: (\n    <svg viewBox=\"0 0 18 18\" fill=\"none\" className=\"bong-toast-icon\">\n      <circle cx=\"9\" cy=\"9\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n      <path d=\"M9 8V13\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n      <circle cx=\"9\" cy=\"5.5\" r=\"0.75\" fill=\"currentColor\" />\n    </svg>\n  ),\n};\n\nconst sizeConfig: Record<ToastSize, { maxWidth: number; padding: string; titleSize: number; descSize: number; iconSize: number }> = {\n  sm: { maxWidth: 320, padding: \"10px 14px\", titleSize: 13, descSize: 12, iconSize: 16 },\n  md: { maxWidth: 420, padding: \"14px 18px\", titleSize: 14, descSize: 13, iconSize: 18 },\n  lg: { maxWidth: 520, padding: \"18px 22px\", titleSize: 16, descSize: 14, iconSize: 22 },\n};\n\nconst defaultSpring: ToastSpring = { stiffness: 400, damping: 25, mass: 0.8 };\n\ninterface BongToastProps {\n  position?: ToastPosition;\n  maxVisible?: number;\n  /** Default spring config for all toasts (can be overridden per-toast) */\n  spring?: ToastSpring;\n  /** Default size for all toasts (can be overridden per-toast) */\n  size?: ToastSize;\n  /** Default style for all toasts (can be overridden per-toast) */\n  style?: ToastStyle;\n  /** Default duration in ms for all toasts (can be overridden per-toast) */\n  duration?: number;\n}\n\nfunction ToastItem({\n  toast,\n  onDismiss,\n  isTop,\n  defaultSpringConfig,\n  defaultSize,\n  defaultStyle,\n}: {\n  toast: ToastData;\n  onDismiss: (id: string) => void;\n  isTop: boolean;\n  defaultSpringConfig: ToastSpring;\n  defaultSize: ToastSize;\n  defaultStyle?: ToastStyle;\n}) {\n  const [hovered, setHovered] = useState(false);\n\n  useEffect(() => {\n    if (!toast.duration) return;\n    const timer = setTimeout(() => onDismiss(toast.id), toast.duration);\n    return () => clearTimeout(timer);\n  }, [toast.id, toast.duration, onDismiss]);\n\n  const spring = { ...defaultSpringConfig, ...toast.spring };\n  const size = toast.size ?? defaultSize;\n  const sc = sizeConfig[size];\n  const mergedStyle: ToastStyle = { ...defaultStyle, ...toast.style };\n\n  const itemStyle: React.CSSProperties = {\n    ...(mergedStyle.bg ? { \"--toast-bg\": mergedStyle.bg } as React.CSSProperties : {}),\n    ...(mergedStyle.fg ? { \"--toast-fg\": mergedStyle.fg } as React.CSSProperties : {}),\n    ...(mergedStyle.borderColor ? { \"--toast-border\": mergedStyle.borderColor } as React.CSSProperties : {}),\n    ...(mergedStyle.borderRadius !== undefined ? { borderRadius: `${mergedStyle.borderRadius}px` } : {}),\n    width: \"fit-content\",\n    maxWidth: sc.maxWidth,\n    padding: sc.padding,\n  };\n\n  const hasDescription = !!toast.description;\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, scale: 0.85, y: -20 }}\n      animate={{\n        opacity: 1,\n        scale: 1,\n        y: 0,\n        transition: {\n          type: \"spring\",\n          stiffness: spring.stiffness,\n          damping: spring.damping,\n          mass: spring.mass,\n        },\n      }}\n      exit={{\n        opacity: 0,\n        scale: 0.9,\n        x: 60,\n        transition: { duration: 0.25, ease: \"easeIn\" },\n      }}\n      className=\"bong-toast-item\"\n      data-variant={toast.variant}\n      style={itemStyle}\n      onClick={() => onDismiss(toast.id)}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      whileHover={{ scale: isTop ? 1.02 : 1 }}\n      whileTap={{ scale: 0.98 }}\n    >\n      {/* Header row: icon + title + chevron */}\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\", width: \"fit-content\" }}>\n        {toast.variant && toast.variant !== \"default\" && (\n          <div style={{ width: sc.iconSize, height: sc.iconSize, flexShrink: 0 }}>\n            <svg viewBox=\"0 0 18 18\" fill=\"none\" style={{ width: \"100%\", height: \"100%\", color: \"var(--toast-accent)\" }}>\n              {toast.variant === \"success\" && (\n                <>\n                  <circle cx=\"9\" cy=\"9\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n                  <path d=\"M5.5 9.5L7.5 11.5L12.5 6.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                </>\n              )}\n              {toast.variant === \"error\" && (\n                <>\n                  <circle cx=\"9\" cy=\"9\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n                  <path d=\"M6.5 6.5L11.5 11.5M11.5 6.5L6.5 11.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                </>\n              )}\n              {toast.variant === \"warning\" && (\n                <>\n                  <path d=\"M9 2L16.5 15.5H1.5L9 2Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinejoin=\"round\" />\n                  <path d=\"M9 7V10.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                  <circle cx=\"9\" cy=\"13\" r=\"0.75\" fill=\"currentColor\" />\n                </>\n              )}\n              {toast.variant === \"info\" && (\n                <>\n                  <circle cx=\"9\" cy=\"9\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n                  <path d=\"M9 8V13\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                  <circle cx=\"9\" cy=\"5.5\" r=\"0.75\" fill=\"currentColor\" />\n                </>\n              )}\n            </svg>\n          </div>\n        )}\n        <div style={{ fontWeight: 600, fontSize: sc.titleSize, lineHeight: 1.3, whiteSpace: \"nowrap\" }}>\n          {toast.title}\n        </div>\n        {hasDescription && (\n          <motion.div\n            animate={{ rotate: hovered ? 180 : 0 }}\n            transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\n            style={{\n              flexShrink: 0,\n              width: 12,\n              height: 12,\n              opacity: 0.35,\n            }}\n          >\n            <svg viewBox=\"0 0 14 14\" fill=\"none\" style={{ width: \"100%\", height: \"100%\" }}>\n              <path d=\"M3 5.5L7 9.5L11 5.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n            </svg>\n          </motion.div>\n        )}\n      </div>\n\n      {/* Description: separate block below, independent width */}\n      {hasDescription && (\n        <motion.div\n          initial={false}\n          animate={{\n            height: hovered ? \"auto\" : 0,\n            opacity: hovered ? 0.6 : 0,\n            marginTop: hovered ? 6 : 0,\n          }}\n          transition={{\n            type: \"spring\",\n            stiffness: 500,\n            damping: 35,\n            mass: 0.5,\n          }}\n          style={{ overflow: \"hidden\", fontSize: sc.descSize, lineHeight: 1.5 }}\n        >\n          {toast.description}\n        </motion.div>\n      )}\n    </motion.div>\n  );\n}\n\nexport function BongToast({\n  position = \"bottom-right\",\n  maxVisible = 5,\n  spring: globalSpring,\n  size: globalSize = \"md\",\n  style: globalStyle,\n  duration: globalDuration,\n}: BongToastProps) {\n  const { toasts, dismiss } = useBongToast();\n\n  const handleDismiss = useCallback(\n    (id: string) => dismiss(id),\n    [dismiss]\n  );\n\n  const mergedDefaultSpring = { ...defaultSpring, ...globalSpring };\n\n  const positionStyles: React.CSSProperties = {\n    position: \"fixed\",\n    zIndex: 9999,\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"10px\",\n    pointerEvents: \"none\",\n    padding: \"20px\",\n    ...(position.includes(\"top\") ? { top: 0 } : { bottom: 0 }),\n    ...(position.includes(\"right\") ? { right: 0 } : { left: 0 }),\n    ...(position.includes(\"left\")\n      ? { alignItems: \"flex-start\" }\n      : { alignItems: \"flex-end\" }),\n  };\n\n  const visibleToasts = toasts.slice(0, maxVisible);\n\n  return (\n    <>\n      {/* SVG Gooey Filter */}\n      <svg\n        style={{ position: \"absolute\", width: 0, height: 0, overflow: \"hidden\" }}\n        aria-hidden=\"true\"\n      >\n        <defs>\n          <filter id=\"bong-toast-gooey\">\n            <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"6\" result=\"blur\" />\n            <feColorMatrix\n              in=\"blur\"\n              type=\"matrix\"\n              values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -8\"\n              result=\"gooey\"\n            />\n            <feComposite in=\"SourceGraphic\" in2=\"gooey\" operator=\"atop\" />\n          </filter>\n        </defs>\n      </svg>\n\n      <div style={positionStyles} className=\"bong-toast-container\">\n        <AnimatePresence mode=\"popLayout\" initial={false}>\n          {visibleToasts.map((t, index) => (\n            <ToastItem\n              key={t.id}\n              toast={{\n                ...t,\n                duration: t.duration ?? globalDuration ?? 4000,\n              }}\n              onDismiss={handleDismiss}\n              isTop={index === 0}\n              defaultSpringConfig={mergedDefaultSpring}\n              defaultSize={globalSize}\n              defaultStyle={globalStyle}\n            />\n          ))}\n        </AnimatePresence>\n      </div>\n    </>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/bong-toast/use-bong-toast.ts",
      "content": "\"use client\";\n\nimport { useCallback, useSyncExternalStore } from \"react\";\n\nexport type ToastVariant = \"default\" | \"success\" | \"error\" | \"warning\" | \"info\";\n\nexport type ToastPosition =\n  | \"top-right\"\n  | \"top-left\"\n  | \"bottom-right\"\n  | \"bottom-left\";\n\nexport type ToastSize = \"sm\" | \"md\" | \"lg\";\n\nexport interface ToastStyle {\n  /** Background color (any CSS color) */\n  bg?: string;\n  /** Text color */\n  fg?: string;\n  /** Border color */\n  borderColor?: string;\n  /** Border radius in px */\n  borderRadius?: number;\n}\n\nexport interface ToastSpring {\n  /** Spring stiffness (default: 400) */\n  stiffness?: number;\n  /** Spring damping (default: 25) */\n  damping?: number;\n  /** Spring mass (default: 0.8) */\n  mass?: number;\n}\n\nexport interface ToastData {\n  id: string;\n  title: string;\n  description?: string;\n  variant?: ToastVariant;\n  duration?: number;\n  size?: ToastSize;\n  style?: ToastStyle;\n  spring?: ToastSpring;\n}\n\nexport interface ToastOptions {\n  title: string;\n  description?: string;\n  variant?: ToastVariant;\n  /** Auto-dismiss duration in ms (default: 4000, 0 to disable) */\n  duration?: number;\n  /** Toast size: sm, md, lg (default: md) */\n  size?: ToastSize;\n  /** Custom colors and border radius */\n  style?: ToastStyle;\n  /** Spring animation config */\n  spring?: ToastSpring;\n}\n\ntype Listener = () => void;\n\nlet toasts: ToastData[] = [];\nlet listeners: Listener[] = [];\n\nfunction emitChange() {\n  for (const listener of listeners) {\n    listener();\n  }\n}\n\nlet idCounter = 0;\n\nexport function toastStore() {\n  return {\n    subscribe(listener: Listener) {\n      listeners.push(listener);\n      return () => {\n        listeners = listeners.filter((l) => l !== listener);\n      };\n    },\n    getSnapshot() {\n      return toasts;\n    },\n    add(options: ToastOptions): string {\n      const id = `bong-toast-${++idCounter}`;\n      const toast: ToastData = {\n        id,\n        title: options.title,\n        description: options.description,\n        variant: options.variant ?? \"default\",\n        duration: options.duration ?? 4000,\n        size: options.size ?? \"md\",\n        style: options.style,\n        spring: options.spring,\n      };\n      toasts = [toast, ...toasts];\n      emitChange();\n      return id;\n    },\n    dismiss(id: string) {\n      toasts = toasts.filter((t) => t.id !== id);\n      emitChange();\n    },\n    clear() {\n      toasts = [];\n      emitChange();\n    },\n  };\n}\n\nconst store = toastStore();\n\nexport function useBongToast() {\n  const currentToasts = useSyncExternalStore(\n    store.subscribe,\n    store.getSnapshot,\n    store.getSnapshot\n  );\n\n  const toast = useCallback((options: ToastOptions) => {\n    return store.add(options);\n  }, []);\n\n  const dismiss = useCallback((id: string) => {\n    store.dismiss(id);\n  }, []);\n\n  const clear = useCallback(() => {\n    store.clear();\n  }, []);\n\n  return { toasts: currentToasts, toast, dismiss, clear };\n}\n\n// Allow imperative usage outside React\nexport const toast = (options: ToastOptions) => store.add(options);\nexport const dismissToast = (id: string) => store.dismiss(id);\n",
      "type": "registry:hook"
    },
    {
      "path": "registry/bong-toast/bong-toast.css",
      "content": ".bong-toast-container {\n  filter: url(#bong-toast-gooey);\n}\n\n.bong-toast-item {\n  --toast-bg: oklch(0.21 0 0);\n  --toast-fg: oklch(0.985 0 0);\n  --toast-border: oklch(1 0 0 / 10%);\n  --toast-accent: oklch(0.708 0 0);\n\n  background: var(--toast-bg);\n  color: var(--toast-fg);\n  border: 1px solid var(--toast-border);\n  border-radius: 14px;\n  padding: 14px 18px;\n  width: fit-content;\n  max-width: 420px;\n  box-shadow:\n    0 8px 32px oklch(0 0 0 / 25%),\n    0 2px 8px oklch(0 0 0 / 15%);\n  pointer-events: auto;\n  cursor: pointer;\n  user-select: none;\n  backdrop-filter: blur(12px);\n}\n\n.bong-toast-item[data-variant=\"success\"] {\n  --toast-accent: oklch(0.72 0.19 150);\n  border-left: 3px solid var(--toast-accent);\n}\n\n.bong-toast-item[data-variant=\"error\"] {\n  --toast-accent: oklch(0.65 0.24 25);\n  border-left: 3px solid var(--toast-accent);\n}\n\n.bong-toast-item[data-variant=\"warning\"] {\n  --toast-accent: oklch(0.8 0.18 80);\n  border-left: 3px solid var(--toast-accent);\n}\n\n.bong-toast-item[data-variant=\"info\"] {\n  --toast-accent: oklch(0.65 0.2 260);\n  border-left: 3px solid var(--toast-accent);\n}\n\n.bong-toast-title {\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.3;\n}\n\n.bong-toast-description {\n  font-size: 13px;\n  opacity: 0.7;\n  margin-top: 2px;\n  line-height: 1.4;\n}\n\n.bong-toast-icon {\n  flex-shrink: 0;\n  width: 18px;\n  height: 18px;\n  color: var(--toast-accent);\n}\n",
      "type": "registry:file",
      "target": "components/bong-toast/bong-toast.css"
    }
  ],
  "type": "registry:block"
}