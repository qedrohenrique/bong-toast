{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "bong-toast",
  "title": "Bong Toast",
  "description": "Animated toast notifications with spring animations and Lucide icons.",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "registry/bong-toast/bong-toast.tsx",
      "content": "\"use client\";\n\nimport { useEffect, useCallback, useState } from \"react\";\nimport { AnimatePresence, motion } from \"motion/react\";\nimport {\n  CircleCheck,\n  CircleX,\n  TriangleAlert,\n  Info,\n  ChevronDown,\n} from \"lucide-react\";\nimport {\n  useBongToast,\n  type ToastData,\n  type ToastLayout,\n  type ToastPosition,\n  type ToastSize,\n  type ToastStyle,\n  type ToastSpring,\n  type ToastExpandDescription,\n} from \"./use-bong-toast\";\nimport { cn } from \"@/lib/utils\";\n\nconst variantIcons = {\n  success: CircleCheck,\n  error: CircleX,\n  warning: TriangleAlert,\n  info: Info,\n} as const;\n\nconst variantClasses: Record<string, string> = {\n  default: \"\",\n  success: \"border-l-[3px] border-l-emerald-500\",\n  error: \"border-l-[3px] border-l-red-500\",\n  warning: \"border-l-[3px] border-l-amber-500\",\n  info: \"border-l-[3px] border-l-blue-500\",\n};\n\nconst variantBgColor: Record<string, string> = {\n  success: \"bg-emerald-500/10\",\n  error: \"bg-red-500/10\",\n  warning: \"bg-amber-500/10\",\n  info: \"bg-blue-500/10\",\n};\n\nconst variantIconColor: Record<string, string> = {\n  success: \"text-emerald-500\",\n  error: \"text-red-500\",\n  warning: \"text-amber-500\",\n  info: \"text-blue-500\",\n};\n\nconst sizeConfig: Record<\n  ToastSize,\n  {\n    maxWidth: string;\n    padding: string;\n    titleSize: string;\n    descSize: string;\n    iconSize: number;\n  }\n> = {\n  sm: {\n    maxWidth: \"max-w-xs\",\n    padding: \"px-3.5 py-2.5\",\n    titleSize: \"text-xs\",\n    descSize: \"text-[12px]\",\n    iconSize: 16,\n  },\n  md: {\n    maxWidth: \"max-w-[420px]\",\n    padding: \"px-4.5 py-3.5\",\n    titleSize: \"text-sm\",\n    descSize: \"text-[13px]\",\n    iconSize: 18,\n  },\n  lg: {\n    maxWidth: \"max-w-[520px]\",\n    padding: \"px-5.5 py-4.5\",\n    titleSize: \"text-base\",\n    descSize: \"text-sm\",\n    iconSize: 22,\n  },\n};\n\nconst defaultSpring: ToastSpring = { stiffness: 400, damping: 25, mass: 0.8 };\n\ninterface BongToastProps {\n  position?: ToastPosition;\n  maxVisible?: number;\n  /** Default spring config for all toasts (can be overridden per-toast) */\n  spring?: ToastSpring;\n  /** Default size for all toasts (can be overridden per-toast) */\n  size?: ToastSize;\n  /** Default layout for all toasts (can be overridden per-toast) */\n  layout?: ToastLayout;\n  /** Default style for all toasts (can be overridden per-toast) */\n  style?: ToastStyle;\n  /** Default duration in ms for all toasts (can be overridden per-toast) */\n  duration?: number;\n  /** Whether descriptions start expanded or only on hover (default: \"hover\") */\n  expandDescription?: ToastExpandDescription;\n}\n\n/** Concave corner SVG — draws the inverse border-radius arc */\nfunction ConcaveCorner({\n  size,\n  flip = false,\n}: {\n  size: number;\n  flip?: boolean;\n}) {\n  return (\n    <div\n      className=\"relative shrink-0\"\n      style={{\n        width: size,\n        height: size,\n        transform: flip ? \"scaleX(-1)\" : undefined,\n      }}\n    >\n      <div\n        className=\"absolute bottom-0 left-0 overflow-hidden\"\n        style={{ width: size, height: size }}\n      >\n        <div\n          style={{\n            width: size * 2,\n            height: size * 2,\n            borderBottomLeftRadius: size,\n            boxShadow: `calc(-1 * ${size}px) ${size}px 0 0 var(--toast-bg, var(--card))`,\n          }}\n        />\n      </div>\n      <svg\n        className=\"absolute bottom-0 left-0\"\n        width={size}\n        height={size}\n        viewBox={`0 0 ${size} ${size}`}\n        fill=\"none\"\n      >\n        <path\n          d={`M0,0 A${size},${size} 0 0,1 ${size},${size}`}\n          stroke=\"var(--toast-border, var(--border))\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n        />\n      </svg>\n    </div>\n  );\n}\n\nfunction ToastItem({\n  toast,\n  onDismiss,\n  isTop,\n  defaultSpringConfig,\n  defaultSize,\n  defaultStyle,\n  expandDescription: defaultExpandDescription,\n}: {\n  toast: ToastData;\n  onDismiss: (id: string) => void;\n  isTop: boolean;\n  defaultSpringConfig: ToastSpring;\n  defaultSize: ToastSize;\n  defaultStyle?: ToastStyle;\n  expandDescription: ToastExpandDescription;\n  position: ToastPosition;\n}) {\n  const [hovered, setHovered] = useState(false);\n  const expand = toast.expandDescription ?? defaultExpandDescription;\n  const isOpen = expand === \"open\" || hovered;\n\n  useEffect(() => {\n    if (!toast.duration) return;\n    const timer = setTimeout(() => onDismiss(toast.id), toast.duration);\n    return () => clearTimeout(timer);\n  }, [toast.id, toast.duration, onDismiss]);\n\n  const spring = { ...defaultSpringConfig, ...toast.spring };\n  const size = toast.size ?? defaultSize;\n  const sc = sizeConfig[size];\n  const mergedStyle: ToastStyle = { ...defaultStyle, ...toast.style };\n  const variant = toast.variant ?? \"default\";\n  const IconComponent =\n    variant !== \"default\"\n      ? variantIcons[variant as keyof typeof variantIcons]\n      : null;\n\n  const cssVars: React.CSSProperties = {\n    ...(mergedStyle.bg\n      ? ({ \"--toast-bg\": mergedStyle.bg } as React.CSSProperties)\n      : {}),\n    ...(mergedStyle.fg\n      ? ({ \"--toast-fg\": mergedStyle.fg } as React.CSSProperties)\n      : {}),\n    ...(mergedStyle.borderColor\n      ? ({ \"--toast-border\": mergedStyle.borderColor } as React.CSSProperties)\n      : {}),\n  };\n\n  const hasDescription = !!toast.description;\n  const radius = mergedStyle.borderRadius ?? 14;\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, scale: 0.85, y: -20 }}\n      animate={{\n        opacity: 1,\n        scale: 1,\n        y: 0,\n        transition: {\n          type: \"spring\",\n          stiffness: spring.stiffness,\n          damping: spring.damping,\n          mass: spring.mass,\n        },\n      }}\n      exit={{\n        opacity: 0,\n        scale: 0.9,\n        x: 60,\n        transition: { duration: 0.25, ease: \"easeIn\" },\n      }}\n      className={cn(\n        \"w-fit overflow-hidden pointer-events-auto cursor-pointer select-none\",\n        \"bg-[var(--toast-bg,var(--card))] text-[var(--toast-fg,var(--card-foreground))]\",\n        \"border border-[var(--toast-border,var(--border))]\",\n        \"shadow-[0_8px_32px_oklch(0_0_0/15%),0_2px_8px_oklch(0_0_0/10%)]\",\n        \"backdrop-blur-[12px]\",\n        sc.maxWidth,\n        sc.padding,\n        variantClasses[variant] ?? \"\",\n      )}\n      style={{\n        ...cssVars,\n        borderRadius: `${radius}px`,\n      }}\n      onClick={() => onDismiss(toast.id)}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      whileHover={{ scale: isTop ? 1.02 : 1 }}\n      whileTap={{ scale: 0.98 }}\n    >\n      {/* Header row: icon + title + chevron */}\n      <div className=\"flex items-center gap-2 w-full min-w-0\">\n        {IconComponent && (\n          <IconComponent\n            size={sc.iconSize}\n            className={cn(\"shrink-0\", variantIconColor[variant] ?? \"\")}\n          />\n        )}\n        <div\n          className={cn(\n            \"font-semibold leading-[1.3] truncate min-w-0\",\n            sc.titleSize,\n          )}\n        >\n          {toast.title}\n        </div>\n        {hasDescription && expand === \"hover\" && (\n          <motion.div\n            animate={{ rotate: hovered ? 180 : 0 }}\n            transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\n            className=\"shrink-0 opacity-35\"\n          >\n            <ChevronDown size={12} />\n          </motion.div>\n        )}\n      </div>\n\n      {/* Description */}\n      {hasDescription && (\n        <motion.div\n          initial={false}\n          animate={{\n            height: isOpen ? \"auto\" : 0,\n            opacity: isOpen ? 0.6 : 0,\n            marginTop: isOpen ? 6 : 0,\n          }}\n          transition={{\n            type: \"spring\",\n            stiffness: spring.stiffness,\n            damping: spring.damping,\n            mass: spring.mass,\n          }}\n          className={cn(\n            \"overflow-hidden leading-[1.5]\",\n            sc.descSize,\n            !isOpen && \"w-0\",\n          )}\n        >\n          {toast.description}\n        </motion.div>\n      )}\n    </motion.div>\n  );\n}\n\nfunction ToastTabItem({\n  toast,\n  onDismiss,\n  isTop,\n  defaultSpringConfig,\n  defaultSize,\n  defaultStyle,\n  expandDescription: defaultExpandDescription,\n  position,\n}: {\n  toast: ToastData;\n  onDismiss: (id: string) => void;\n  isTop: boolean;\n  defaultSpringConfig: ToastSpring;\n  defaultSize: ToastSize;\n  defaultStyle?: ToastStyle;\n  expandDescription: ToastExpandDescription;\n  position: ToastPosition;\n}) {\n  const [hovered, setHovered] = useState(false);\n  const expand = toast.expandDescription ?? defaultExpandDescription;\n  const isOpen = expand === \"open\" || hovered;\n  const hasDescription = !!toast.description;\n\n  useEffect(() => {\n    if (!toast.duration) return;\n    const timer = setTimeout(() => onDismiss(toast.id), toast.duration);\n    return () => clearTimeout(timer);\n  }, [toast.id, toast.duration, onDismiss]);\n\n  const spring = { ...defaultSpringConfig, ...toast.spring };\n  const size = toast.size ?? defaultSize;\n  const sc = sizeConfig[size];\n  const mergedStyle: ToastStyle = { ...defaultStyle, ...toast.style };\n  const variant = toast.variant ?? \"default\";\n  const IconComponent =\n    variant !== \"default\"\n      ? variantIcons[variant as keyof typeof variantIcons]\n      : null;\n\n  const concaveSize = 8;\n  const tabCssVars: React.CSSProperties = {\n    ...(mergedStyle.bg\n      ? ({ \"--toast-bg\": mergedStyle.bg } as React.CSSProperties)\n      : {}),\n    ...(mergedStyle.fg\n      ? ({ \"--toast-fg\": mergedStyle.fg } as React.CSSProperties)\n      : {}),\n    ...(mergedStyle.borderColor\n      ? ({ \"--toast-border\": mergedStyle.borderColor } as React.CSSProperties)\n      : {}),\n  };\n\n  // When body is NOT visible, tab is fully rounded\n  const showBody = hasDescription && isOpen;\n  const tabOnRight = position.includes(\"right\");\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, scale: 0.85, y: -20 }}\n      animate={{\n        opacity: 1,\n        scale: 1,\n        y: 0,\n        transition: {\n          type: \"spring\",\n          stiffness: spring.stiffness,\n          damping: spring.damping,\n          mass: spring.mass,\n        },\n      }}\n      exit={{\n        opacity: 0,\n        scale: 0.9,\n        x: 60,\n        transition: { duration: 0.25, ease: \"easeIn\" },\n      }}\n      className={cn(\n        \"pointer-events-auto cursor-pointer select-none\",\n        sc.maxWidth,\n      )}\n      style={{\n        ...tabCssVars,\n        filter:\n          \"drop-shadow(0 8px 32px oklch(0 0 0 / 15%)) drop-shadow(0 2px 8px oklch(0 0 0 / 10%))\",\n      }}\n      onClick={() => onDismiss(toast.id)}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      whileHover={{ scale: isTop ? 1.02 : 1 }}\n      whileTap={{ scale: 0.98 }}\n    >\n      {/* Tab row: tab + concave bridge (bridge only when body is visible) */}\n      <div className={cn(\"flex items-end\", tabOnRight && \"flex-row-reverse\")}>\n        {/* Tab */}\n        <div\n          className={cn(\n            \"flex items-center gap-1.5\",\n            \"bg-[var(--toast-bg,var(--card))] text-[var(--toast-fg,var(--card-foreground))]\",\n            \"border border-[var(--toast-border,var(--border))]\",\n            \"px-3 py-1.5\",\n          )}\n          style={{\n            borderRadius: showBody ? \"10px 10px 0 0\" : \"10px\",\n            borderBottom: showBody ? \"none\" : undefined,\n            transition: \"border-radius 0.2s ease\",\n          }}\n        >\n          {IconComponent && (\n            <IconComponent\n              size={sc.iconSize - 2}\n              className={cn(\"shrink-0\", variantIconColor[variant] ?? \"\")}\n            />\n          )}\n          <span\n            className={cn(\n              \"font-semibold leading-[1.3] whitespace-nowrap\",\n              sc.titleSize,\n            )}\n          >\n            {toast.title}\n          </span>\n        </div>\n\n        {/* Concave bridge — only when body is visible */}\n        {showBody && <ConcaveCorner size={concaveSize} flip={tabOnRight} />}\n      </div>\n\n      {/* Body — animated for hover mode */}\n      {hasDescription && (\n        <motion.div\n          initial={false}\n          animate={{\n            height: isOpen ? \"auto\" : 0,\n            opacity: isOpen ? 1 : 0,\n          }}\n          transition={{\n            type: \"spring\",\n            stiffness: spring.stiffness,\n            damping: spring.damping,\n            mass: spring.mass,\n          }}\n          className=\"overflow-hidden mt-[-1px]\"\n        >\n          <div\n            className={cn(\n              \"bg-[var(--toast-bg,var(--card))] text-[var(--toast-fg,var(--card-foreground))]\",\n              \"border border-t-0 border-[var(--toast-border,var(--border))]\",\n              sc.padding,\n            )}\n            style={{\n              borderRadius: tabOnRight\n                ? \"10px 0 10px 10px\"\n                : \"0 10px 10px 10px\",\n            }}\n          >\n            <p className={cn(\"leading-[1.5] opacity-70\", sc.descSize)}>\n              {toast.description}\n            </p>\n          </div>\n        </motion.div>\n      )}\n    </motion.div>\n  );\n}\n\nexport function BongToast({\n  position = \"bottom-right\",\n  maxVisible = 5,\n  spring: globalSpring,\n  size: globalSize = \"md\",\n  layout: globalLayout = \"default\",\n  style: globalStyle,\n  duration: globalDuration,\n  expandDescription: globalExpandDescription = \"hover\",\n}: BongToastProps) {\n  const { toasts, dismiss } = useBongToast();\n\n  const handleDismiss = useCallback((id: string) => dismiss(id), [dismiss]);\n\n  const mergedDefaultSpring = { ...defaultSpring, ...globalSpring };\n\n  const visibleToasts = toasts.slice(0, maxVisible);\n\n  return (\n    <div\n      className={cn(\n        \"fixed z-[9999] flex flex-col gap-2.5 pointer-events-none p-5\",\n        position.includes(\"top\") ? \"top-0\" : \"bottom-0\",\n        position.includes(\"right\") ? \"right-0\" : \"left-0\",\n        position.includes(\"left\") ? \"items-start\" : \"items-end\",\n      )}\n    >\n      <AnimatePresence mode=\"popLayout\" initial={false}>\n        {visibleToasts.map((t, index) => {\n          const toastWithDefaults = {\n            ...t,\n            duration: t.duration ?? globalDuration ?? 4000,\n          };\n          const layout = t.layout ?? globalLayout;\n          const Component = layout === \"tab\" ? ToastTabItem : ToastItem;\n          return (\n            <Component\n              key={t.id}\n              toast={toastWithDefaults}\n              onDismiss={handleDismiss}\n              isTop={index === 0}\n              defaultSpringConfig={mergedDefaultSpring}\n              defaultSize={globalSize}\n              defaultStyle={globalStyle}\n              expandDescription={globalExpandDescription}\n              position={position}\n            />\n          );\n        })}\n      </AnimatePresence>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/bong-toast/use-bong-toast.ts",
      "content": "\"use client\";\n\nimport { useCallback, useSyncExternalStore } from \"react\";\n\nexport type ToastVariant = \"default\" | \"success\" | \"error\" | \"warning\" | \"info\";\n\nexport type ToastPosition =\n  | \"top-right\"\n  | \"top-left\"\n  | \"bottom-right\"\n  | \"bottom-left\";\n\nexport type ToastSize = \"sm\" | \"md\" | \"lg\";\n\nexport type ToastLayout = \"default\" | \"tab\";\n\nexport type ToastExpandDescription = \"open\" | \"hover\";\n\nexport interface ToastStyle {\n  /** Background color (any CSS color) */\n  bg?: string;\n  /** Text color */\n  fg?: string;\n  /** Border color */\n  borderColor?: string;\n  /** Border radius in px */\n  borderRadius?: number;\n}\n\nexport interface ToastSpring {\n  /** Spring stiffness (default: 400) */\n  stiffness?: number;\n  /** Spring damping (default: 25) */\n  damping?: number;\n  /** Spring mass (default: 0.8) */\n  mass?: number;\n}\n\nexport interface ToastData {\n  id: string;\n  title: string;\n  description?: string;\n  variant?: ToastVariant;\n  duration?: number;\n  size?: ToastSize;\n  layout?: ToastLayout;\n  /** Whether the description starts expanded or only on hover */\n  expandDescription?: ToastExpandDescription;\n  style?: ToastStyle;\n  spring?: ToastSpring;\n}\n\nexport interface ToastOptions {\n  title: string;\n  description?: string;\n  variant?: ToastVariant;\n  /** Auto-dismiss duration in ms (default: 4000, 0 to disable) */\n  duration?: number;\n  /** Toast size: sm, md, lg (default: md) */\n  size?: ToastSize;\n  /** Layout style: default (inline) or tab (asymmetric tab shape) */\n  layout?: ToastLayout;\n  /** Whether the description starts expanded or only on hover (default: \"hover\") */\n  expandDescription?: ToastExpandDescription;\n  /** Custom colors and border radius */\n  style?: ToastStyle;\n  /** Spring animation config */\n  spring?: ToastSpring;\n}\n\ntype Listener = () => void;\n\nlet toasts: ToastData[] = [];\nlet listeners: Listener[] = [];\n\nfunction emitChange() {\n  for (const listener of listeners) {\n    listener();\n  }\n}\n\nlet idCounter = 0;\n\nexport function toastStore() {\n  return {\n    subscribe(listener: Listener) {\n      listeners.push(listener);\n      return () => {\n        listeners = listeners.filter((l) => l !== listener);\n      };\n    },\n    getSnapshot() {\n      return toasts;\n    },\n    add(options: ToastOptions): string {\n      const id = `bong-toast-${++idCounter}`;\n      const toast: ToastData = {\n        id,\n        title: options.title,\n        description: options.description,\n        variant: options.variant ?? \"default\",\n        duration: options.duration,\n        size: options.size,\n        layout: options.layout,\n        expandDescription: options.expandDescription,\n        style: options.style,\n        spring: options.spring,\n      };\n      toasts = [toast, ...toasts];\n      emitChange();\n      return id;\n    },\n    dismiss(id: string) {\n      toasts = toasts.filter((t) => t.id !== id);\n      emitChange();\n    },\n    clear() {\n      toasts = [];\n      emitChange();\n    },\n  };\n}\n\nconst store = toastStore();\n\nexport function useBongToast() {\n  const currentToasts = useSyncExternalStore(\n    store.subscribe,\n    store.getSnapshot,\n    store.getSnapshot,\n  );\n\n  const toast = useCallback((options: ToastOptions) => {\n    return store.add(options);\n  }, []);\n\n  const dismiss = useCallback((id: string) => {\n    store.dismiss(id);\n  }, []);\n\n  const clear = useCallback(() => {\n    store.clear();\n  }, []);\n\n  return { toasts: currentToasts, toast, dismiss, clear };\n}\n\n// Allow imperative usage outside React\nexport const toast = (options: ToastOptions) => store.add(options);\nexport const dismissToast = (id: string) => store.dismiss(id);\n",
      "type": "registry:hook"
    }
  ],
  "type": "registry:block"
}